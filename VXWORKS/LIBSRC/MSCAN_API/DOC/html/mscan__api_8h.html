<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - MSCAN API - mscan_api.h File Reference</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">MSCAN API &nbsp; for MSCAN fileset 2.19</h1>
	<h3>mscan_api.h File Reference</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mscan_api.h File Reference</h1>Header file for MSCAN_API.  
<a href="#_details">More...</a>
<p>

<p>
<a href="mscan__api_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSCAN filter definition. </em> <a href="structMSCAN__FILTER.html#_details">More...</a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CAN frame. </em> <a href="structMSCAN__FRAME.html#_details">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a0">MSCAN_ACCFIELD_GET</a>(field, id)&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] &amp; (0x80&gt;&gt;((id)&amp;7)))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">macro to test an ID of the individual ID filter </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a1">MSCAN_ACCFIELD_SET</a>(field, id)&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] |= (0x80&gt;&gt;((id)&amp;7)))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">macro to set an ID of the individual ID filter </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a2">MSCAN_ACCFIELD_CLR</a>(field, id)&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] &amp;= ~(0x80&gt;&gt;((id)&amp;7)))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">macro to clear an ID of the individual ID filter </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a3">MSCAN_ERR_BADSPEED</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">bitrate not supported </em> <a href="#a3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a4">MSCAN_ERR_NOMESSAGE</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+8)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">no message in receive buffer </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a5">MSCAN_ERR_BADTMDETAILS</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+12)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">illegal timing details </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a6">MSCAN_ERR_BADMSGNUM</a>&nbsp;&nbsp;&nbsp;(ERR_LL_ILL_CHAN)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">illegal message object nr </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a7">MSCAN_ERR_BADDIR</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+14)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">illegal message direction </em> <a href="#a7"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a8">MSCAN_ERR_QFULL</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+15)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transmit queue full </em> <a href="#a8"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a9">MSCAN_ERR_SIGBUSY</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+16)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">signal already installed </em> <a href="#a9"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a10">MSCAN_ERR_BADPARAMETER</a>&nbsp;&nbsp;&nbsp;(ERR_LL_ILL_PARAM)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">bad parameter </em> <a href="#a10"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a11">MSCAN_ERR_NOTINIT</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+17)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">controller not completely initialized </em> <a href="#a11"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a12">MSCAN_ERR_ONLINE</a>&nbsp;&nbsp;&nbsp;(ERR_DEV+18)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">controller not disabled </em> <a href="#a12"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a> { <br>
&nbsp;&nbsp;<a class="el" href="mscan__api_8h.html#a63a13">MSCAN_BR_1MB</a> = 0, 
<a class="el" href="mscan__api_8h.html#a63a14">MSCAN_BR_800K</a>, 
<a class="el" href="mscan__api_8h.html#a63a15">MSCAN_BR_500K</a>, 
<a class="el" href="mscan__api_8h.html#a63a16">MSCAN_BR_250K</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="mscan__api_8h.html#a63a17">MSCAN_BR_125K</a>, 
<a class="el" href="mscan__api_8h.html#a63a18">MSCAN_BR_100K</a>, 
<a class="el" href="mscan__api_8h.html#a63a19">MSCAN_BR_50K</a>, 
<a class="el" href="mscan__api_8h.html#a63a20">MSCAN_BR_20K</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="mscan__api_8h.html#a63a21">MSCAN_BR_10K</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bitrate values. </em> <a href="#a63">More...</a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a> { <br>
&nbsp;&nbsp;<a class="el" href="mscan__api_8h.html#a64a22">MSCAN_BUSOFF_SET</a> = 1, 
<a class="el" href="mscan__api_8h.html#a64a23">MSCAN_BUSOFF_CLR</a>, 
<a class="el" href="mscan__api_8h.html#a64a24">MSCAN_WARN_SET</a>, 
<a class="el" href="mscan__api_8h.html#a64a25">MSCAN_WARN_CLR</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="mscan__api_8h.html#a64a26">MSCAN_QOVERRUN</a>, 
<a class="el" href="mscan__api_8h.html#a64a27">MSCAN_DATA_OVERRUN</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error entry codes. </em> <a href="#a64">More...</a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a> { <a class="el" href="mscan__api_8h.html#a65a28">MSCAN_DIR_DIS</a>, 
<a class="el" href="mscan__api_8h.html#a65a29">MSCAN_DIR_RCV</a>, 
<a class="el" href="mscan__api_8h.html#a65a30">MSCAN_DIR_XMT</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Message object direction specifier. </em> <a href="#a65">More...</a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a66">MSCAN_FLAGS</a> { <a class="el" href="mscan__api_8h.html#a66a31">MSCAN_EXTENDED</a> = 0x1, 
<a class="el" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a> = 0x2, 
<a class="el" href="mscan__api_8h.html#a66a33">MSCAN_USE_ACCFIELD</a> = 0x4
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CAN message and filter flags. </em> <a href="#a66">More...</a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a> { <a class="el" href="mscan__api_8h.html#a67a34">MSCAN_NS_ERROR_ACTIVE</a>, 
<a class="el" href="mscan__api_8h.html#a67a35">MSCAN_NS_ERROR_PASSIVE</a>, 
<a class="el" href="mscan__api_8h.html#a67a36">MSCAN_NS_BUS_OFF</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CAN node status. </em> <a href="#a67">More...</a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>MDIS_PATH __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a37">mscan_init</a> (char *device)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open path to CAN device. </em> <a href="#a37"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a38">mscan_term</a> (MDIS_PATH path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close path to CAN device. </em> <a href="#a38"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a39">mscan_set_filter</a> (MDIS_PATH path, const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter1, const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set global acceptance filter. </em> <a href="#a39"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a40">mscan_config_msg</a> (MDIS_PATH path, u_int32 nr, <a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a> dir, u_int32 qEntries, const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure message object. </em> <a href="#a40"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a41">mscan_set_bitrate</a> (MDIS_PATH path, <a class="el" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a> bitrate, u_int32 spl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup bustiming according to CIA DS 102 V2.0. </em> <a href="#a41"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a42">mscan_set_bustiming</a> (MDIS_PATH path, u_int8 brp, u_int8 sjw, u_int8 tseg1, u_int8 tseg2, u_int8 spl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup bustiming directly. </em> <a href="#a42"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a43">mscan_read_msg</a> (MDIS_PATH path, u_int32 nr, int32 timeout, <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read single frame from CAN object's receive FIFO. </em> <a href="#a43"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a44">mscan_read_nmsg</a> (MDIS_PATH path, u_int32 nr, int32 nFrames, <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read multiple frames from CAN object's receive FIFO. </em> <a href="#a44"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a45">mscan_write_msg</a> (MDIS_PATH path, u_int32 nr, int32 timeout, const <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put single frame into CAN object's transmit FIFO. </em> <a href="#a45"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a46">mscan_write_nmsg</a> (MDIS_PATH path, u_int32 nr, int32 nFrames, const <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Put multiple frames into CAN object's transmit FIFO. </em> <a href="#a46"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a47">mscan_read_error</a> (MDIS_PATH path, u_int32 *errCodeP, u_int32 *nrP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read error entry from driver's global error FIFO. </em> <a href="#a47"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a48">mscan_set_rcvsig</a> (MDIS_PATH path, u_int32 nr, int32 signal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Install signal for frame receiption. </em> <a href="#a48"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a49">mscan_set_xmtsig</a> (MDIS_PATH path, u_int32 nr, int32 signal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Install signal for frame transmission. </em> <a href="#a49"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a50">mscan_clr_rcvsig</a> (MDIS_PATH path, u_int32 nr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivate signal installed by <a class="el" href="mscan__api_8c.html#a14">mscan_set_rcvsig()</a>. </em> <a href="#a50"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a51">mscan_clr_xmtsig</a> (MDIS_PATH path, u_int32 nr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deactivate signal installed by <a class="el" href="mscan__api_8c.html#a15">mscan_set_xmtsig()</a>. </em> <a href="#a51"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a52">mscan_queue_status</a> (MDIS_PATH path, u_int32 nr, u_int32 *entriesP, <a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a> *directionP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of entries in an object's receive/transmit FIFO. </em> <a href="#a52"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a53">mscan_queue_clear</a> (MDIS_PATH path, u_int32 nr, int txabort)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear object FIFO. </em> <a href="#a53"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a54">mscan_clear_busoff</a> (MDIS_PATH path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset controller from busoff state. </em> <a href="#a54"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a55">mscan_enable</a> (MDIS_PATH path, u_int32 enable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable/Disable controller's bus activity. </em> <a href="#a55"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a56">mscan_rtr</a> (MDIS_PATH path, u_int32 nr, u_int32 id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a remote frame request. </em> <a href="#a56"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a57">mscan_set_loopback</a> (MDIS_PATH path, int enable)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup loopback mode. </em> <a href="#a57"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a58">mscan_node_status</a> (MDIS_PATH path, <a class="el" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a> *statusP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read CAN node status. </em> <a href="#a58"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a59">mscan_error_counters</a> (MDIS_PATH path, u_int8 *txErrCntP, u_int8 *rxErrCntP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read CAN controller error counters. </em> <a href="#a59"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int32 __MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a60">mscan_dump_internals</a> (MDIS_PATH path, char *buffer, int maxLen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tell driver to dump internal state as a string. </em> <a href="#a60"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *__MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a61">mscan_errmsg</a> (int32 error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert API error code to string. </em> <a href="#a61"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *__MAPILIB&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mscan__api_8h.html#a62">mscan_errobj_msg</a> (u_int32 errCode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert code from error FIFO to string. </em> <a href="#a62"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Header file for MSCAN_API. 
<p>
<dl compact><dt><b>Author:</b></dt><dd><a href="mailto:klaus.popp@men.de">klaus.popp@men.de</a> <dl compact><dt><b>Date</b></dt><dd>2010/02/25 18:04:54 </dd></dl>
<dl compact><dt><b>Revision</b></dt><dd>2.8 </dd></dl>
</dd></dl>
<p>
Switches: -<hr><h2>Define Documentation</h2>
<a name="a2" doxytag="mscan_api.h::MSCAN_ACCFIELD_CLR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ACCFIELD_CLR</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">field,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>id&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] &amp;= ~(0x80&gt;&gt;((id)&amp;7)))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
macro to clear an ID of the individual ID filter 
<p>
    </td>
  </tr>
</table>
<a name="a0" doxytag="mscan_api.h::MSCAN_ACCFIELD_GET"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ACCFIELD_GET</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">field,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>id&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] &amp; (0x80&gt;&gt;((id)&amp;7)))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
macro to test an ID of the individual ID filter 
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="mscan_api.h::MSCAN_ACCFIELD_SET"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ACCFIELD_SET</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">field,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>id&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(field[(id)&gt;&gt;3] |= (0x80&gt;&gt;((id)&amp;7)))
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
macro to set an ID of the individual ID filter 
<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="mscan_api.h::MSCAN_ERR_BADDIR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_BADDIR&nbsp;&nbsp;&nbsp;(ERR_DEV+14)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
illegal message direction 
<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="mscan_api.h::MSCAN_ERR_BADMSGNUM"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_BADMSGNUM&nbsp;&nbsp;&nbsp;(ERR_LL_ILL_CHAN)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
illegal message object nr 
<p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="mscan_api.h::MSCAN_ERR_BADPARAMETER"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_BADPARAMETER&nbsp;&nbsp;&nbsp;(ERR_LL_ILL_PARAM)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
bad parameter 
<p>
    </td>
  </tr>
</table>
<a name="a3" doxytag="mscan_api.h::MSCAN_ERR_BADSPEED"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_BADSPEED&nbsp;&nbsp;&nbsp;(ERR_DEV+1)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
bitrate not supported 
<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="mscan_api.h::MSCAN_ERR_BADTMDETAILS"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_BADTMDETAILS&nbsp;&nbsp;&nbsp;(ERR_DEV+12)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
illegal timing details 
<p>
    </td>
  </tr>
</table>
<a name="a4" doxytag="mscan_api.h::MSCAN_ERR_NOMESSAGE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_NOMESSAGE&nbsp;&nbsp;&nbsp;(ERR_DEV+8)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
no message in receive buffer 
<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="mscan_api.h::MSCAN_ERR_NOTINIT"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_NOTINIT&nbsp;&nbsp;&nbsp;(ERR_DEV+17)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
controller not completely initialized 
<p>
    </td>
  </tr>
</table>
<a name="a12" doxytag="mscan_api.h::MSCAN_ERR_ONLINE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_ONLINE&nbsp;&nbsp;&nbsp;(ERR_DEV+18)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
controller not disabled 
<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="mscan_api.h::MSCAN_ERR_QFULL"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_QFULL&nbsp;&nbsp;&nbsp;(ERR_DEV+15)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
transmit queue full 
<p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="mscan_api.h::MSCAN_ERR_SIGBUSY"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MSCAN_ERR_SIGBUSY&nbsp;&nbsp;&nbsp;(ERR_DEV+16)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
signal already installed 
<p>
    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a name="a63" doxytag="mscan_api.h::MSCAN_BITRATE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Bitrate values. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a63a13" doxytag="MSCAN_BR_1MB"></a><em>MSCAN_BR_1MB</em></em>&nbsp;</td><td>
1 MBit/s </td></tr>
<tr><td valign=top><em><a name="a63a14" doxytag="MSCAN_BR_800K"></a><em>MSCAN_BR_800K</em></em>&nbsp;</td><td>
800 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a15" doxytag="MSCAN_BR_500K"></a><em>MSCAN_BR_500K</em></em>&nbsp;</td><td>
500 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a16" doxytag="MSCAN_BR_250K"></a><em>MSCAN_BR_250K</em></em>&nbsp;</td><td>
250 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a17" doxytag="MSCAN_BR_125K"></a><em>MSCAN_BR_125K</em></em>&nbsp;</td><td>
125 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a18" doxytag="MSCAN_BR_100K"></a><em>MSCAN_BR_100K</em></em>&nbsp;</td><td>
100 kBit/s (not defined in DS102!) </td></tr>
<tr><td valign=top><em><a name="a63a19" doxytag="MSCAN_BR_50K"></a><em>MSCAN_BR_50K</em></em>&nbsp;</td><td>
50 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a20" doxytag="MSCAN_BR_20K"></a><em>MSCAN_BR_20K</em></em>&nbsp;</td><td>
20 kBit/s </td></tr>
<tr><td valign=top><em><a name="a63a21" doxytag="MSCAN_BR_10K"></a><em>MSCAN_BR_10K</em></em>&nbsp;</td><td>
10 kBit/s </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a name="a65" doxytag="mscan_api.h::MSCAN_DIR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Message object direction specifier. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a65a28" doxytag="MSCAN_DIR_DIS"></a><em>MSCAN_DIR_DIS</em></em>&nbsp;</td><td>
object disabled </td></tr>
<tr><td valign=top><em><a name="a65a29" doxytag="MSCAN_DIR_RCV"></a><em>MSCAN_DIR_RCV</em></em>&nbsp;</td><td>
direction=receive </td></tr>
<tr><td valign=top><em><a name="a65a30" doxytag="MSCAN_DIR_XMT"></a><em>MSCAN_DIR_XMT</em></em>&nbsp;</td><td>
direction=transmit </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a name="a64" doxytag="mscan_api.h::MSCAN_ERRENTRY_CODE"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Error entry codes. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a64a22" doxytag="MSCAN_BUSOFF_SET"></a><em>MSCAN_BUSOFF_SET</em></em>&nbsp;</td><td>
controller entered bus off state </td></tr>
<tr><td valign=top><em><a name="a64a23" doxytag="MSCAN_BUSOFF_CLR"></a><em>MSCAN_BUSOFF_CLR</em></em>&nbsp;</td><td>
controller left bus off state </td></tr>
<tr><td valign=top><em><a name="a64a24" doxytag="MSCAN_WARN_SET"></a><em>MSCAN_WARN_SET</em></em>&nbsp;</td><td>
controller entered error passive state </td></tr>
<tr><td valign=top><em><a name="a64a25" doxytag="MSCAN_WARN_CLR"></a><em>MSCAN_WARN_CLR</em></em>&nbsp;</td><td>
controller left error passive state </td></tr>
<tr><td valign=top><em><a name="a64a26" doxytag="MSCAN_QOVERRUN"></a><em>MSCAN_QOVERRUN</em></em>&nbsp;</td><td>
object's receive fifo overflowed </td></tr>
<tr><td valign=top><em><a name="a64a27" doxytag="MSCAN_DATA_OVERRUN"></a><em>MSCAN_DATA_OVERRUN</em></em>&nbsp;</td><td>
controller's FIFO overflowed </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a name="a66" doxytag="mscan_api.h::MSCAN_FLAGS"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="mscan__api_8h.html#a66">MSCAN_FLAGS</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
CAN message and filter flags. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a66a31" doxytag="MSCAN_EXTENDED"></a><em>MSCAN_EXTENDED</em></em>&nbsp;</td><td>
interpret ID as extended ID </td></tr>
<tr><td valign=top><em><a name="a66a32" doxytag="MSCAN_RTR"></a><em>MSCAN_RTR</em></em>&nbsp;</td><td>
remote transmit request bit </td></tr>
<tr><td valign=top><em><a name="a66a33" doxytag="MSCAN_USE_ACCFIELD"></a><em>MSCAN_USE_ACCFIELD</em></em>&nbsp;</td><td>
use <em>accField</em> filter </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a name="a67" doxytag="mscan_api.h::MSCAN_NODE_STATUS"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
CAN node status. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="a67a34" doxytag="MSCAN_NS_ERROR_ACTIVE"></a><em>MSCAN_NS_ERROR_ACTIVE</em></em>&nbsp;</td><td>
node is error active (normal operation) </td></tr>
<tr><td valign=top><em><a name="a67a35" doxytag="MSCAN_NS_ERROR_PASSIVE"></a><em>MSCAN_NS_ERROR_PASSIVE</em></em>&nbsp;</td><td>
node is error passive </td></tr>
<tr><td valign=top><em><a name="a67a36" doxytag="MSCAN_NS_BUS_OFF"></a><em>MSCAN_NS_BUS_OFF</em></em>&nbsp;</td><td>
node is bus off </td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a54" doxytag="mscan_api.h::mscan_clear_busoff"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_clear_busoff </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>path</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset controller from busoff state. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>this function is a no-op for MSCAN</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a name="a50" doxytag="mscan_api.h::mscan_clr_rcvsig"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_clr_rcvsig </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deactivate signal installed by <a class="el" href="mscan__api_8h.html#a48">mscan_set_rcvsig()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_SIGBUSY</code>: signal <b>not</b> installed </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a51" doxytag="mscan_api.h::mscan_clr_xmtsig"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_clr_xmtsig </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deactivate signal installed by <a class="el" href="mscan__api_8h.html#a49">mscan_set_xmtsig()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_SIGBUSY</code>: signal <b>not</b> installed </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a40" doxytag="mscan_api.h::mscan_config_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_config_msg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dir</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>qEntries</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>filter</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Configure message object. 
<p>
Used to configure one of the 10 message objects provided by the MSCAN driver. The error object (object #0) is also configured by this function.<p>
By default, all message objects are disabled (i.e direction is set to <a class="el" href="mscan__api_8h.html#a65a28">MSCAN_DIR_DIS</a>).<p>
This function creates the message object's FIFO with specified number of entries (<em>qentries</em>). It also configures the message object's local <em>filter</em> (See <a class="el" href="index.html#ConfFilt">Configure Filters</a> for more information).<p>
To create the special error object, object #0, call<p>
<div class="fragment"><pre>    <a class="code" href="mscan__api_8c.html#a6">mscan_config_msg</a>( path, 0, MSCAN_DIR_RCV, nEntries, NULL );
</pre></div><p>
If the specified message object was already configured, any frames in the FIFO are lost, and the FIFO is reallocated.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>This function will not touch an installed signal for that object.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) or 0 for error obj. </td></tr>
    <tr><td valign=top><em>dir</em>&nbsp;</td><td>object direction<ul>
<li>MSCAN_DIR_RCV receive</li><li>MSCAN_DIR_XMT transmit</li><li>MSCAN_DIR_DIS disable </li></ul>
</td></tr>
    <tr><td valign=top><em>qEntries</em>&nbsp;</td><td>FIFO depth (number of entries in rx or tx FIFO) must be &gt;0 </td></tr>
    <tr><td valign=top><em>filter</em>&nbsp;</td><td>structure that specifies the filter. Used only for Rx objects. Can be NULL for Tx objects and object 0.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADPARAMETER</code>: filter specification or qEntries invalid</li><li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: bad direction </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a60" doxytag="mscan_api.h::mscan_dump_internals"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_dump_internals </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxLen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tell driver to dump internal state as a string. 
<p>
Driver will generate an ASCII string containing most important parameters of device. String will not be longer than <em>maxLen</em>     </td>
  </tr>
</table>
<a name="a55" doxytag="mscan_api.h::mscan_enable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_enable </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>enable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable/Disable controller's bus activity. 
<p>
While bus activity is disabled, no frames can be transmitted or received. Transmitter line is then in recessive state.<p>
Before enabling bus activity, message objects and bitrate must have been already configured.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>enable</em>&nbsp;</td><td>enable/disable bus activity (0=disable, 1=enable)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_NOTINIT</code>: bit-timing not initialized</li><li><code>ERR_LL_DEV_NOTRDY</code>: controller handshake problem </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a61" doxytag="mscan_api.h::mscan_errmsg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* __MAPILIB mscan_errmsg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>error</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert API error code to string. 
<p>
This converts the MSCAN or MDIS error codes into strings, i.e. those errors contained in <em>errno</em>.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>A pointer to a static string buffer is returned. Not thread safe!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>error</em>&nbsp;</td><td>error code returned from MSCAN API functions </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>error message string (static buffer!) </dd></dl>
    </td>
  </tr>
</table>
<a name="a62" doxytag="mscan_api.h::mscan_errobj_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* __MAPILIB mscan_errobj_msg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_int32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>errCode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert code from error FIFO to string. 
<p>
This converts the codes reported from the error FIFO into strings<p>
<dl compact><dt><b>Remarks:</b></dt><dd>Constant strings are returned. Thread safe.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>errCode</em>&nbsp;</td><td>error code from error FIFO</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>error message string </dd></dl>
    </td>
  </tr>
</table>
<a name="a59" doxytag="mscan_api.h::mscan_error_counters"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_error_counters </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>txErrCntP</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8 *&nbsp;</td>
          <td class="mdname" nowrap> <em>rxErrCntP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read CAN controller error counters. 
<p>
Reads the CAN controller error counters directly.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>For standard MSCAN implementations, bus activity must be disabled when calling this function. MENs "Boromir" allows to read error counters always.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>txErrCntP</em>&nbsp;</td><td>pointer to variable where number of Tx errors will be stored </td></tr>
    <tr><td valign=top><em>rxErrCntP</em>&nbsp;</td><td>pointer to variable where number of Rx errors will be stored</td></tr>
  </table>
</dl>
Both <em>txErrCntP</em> and <em>rxErrCntP</em> can be NULL; in this case the parameter is ignored<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_ONLINE</code>: controller was not disabled</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a58">mscan_node_status</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a37" doxytag="mscan_api.h::mscan_init"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> MDIS_PATH __MAPILIB mscan_init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>device</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open path to CAN device. 
<p>
Init and reset controller<p>
Actions performed:<ul>
<li>check for controller ready</li><li>reset all registers</li><li>set global acceptance to let all IDs pass through (standard and extended)</li></ul>
<p>
(Bus activity is left disabled by this function)<p>
To enable controller activity configure all message objects, set bitrate and call <a class="el" href="mscan__api_8h.html#a55">mscan_enable()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>device</em>&nbsp;</td><td>MDIS device name </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>&gt;=0 path number or &lt;0= error In case of error, <em>errno</em> set to:<ul>
<li>MSCAN_ERR_RESETACTIVE controller did not leave reset state???</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a38">mscan_term</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a58" doxytag="mscan_api.h::mscan_node_status"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_node_status </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>statusP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read CAN node status. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>statusP</em>&nbsp;</td><td>pointer to variable where node status will be stored</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a59">mscan_error_counters</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a53" doxytag="mscan_api.h::mscan_queue_clear"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_queue_clear </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>txabort</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear object FIFO. 
<p>
Clears all entries in a message FIFO (nr&gt;0) or error FIFO (nr=0).<p>
For transmit message FIFOs, if <em>txabort</em> is not 0, any pending transmit request related to that transmit object that has not been completed should also aborted.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>In the current implementation, <em>txabort</em> is ignored!</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object </td></tr>
    <tr><td valign=top><em>txabort</em>&nbsp;</td><td>Tx FIFOs: if !=0 abort pending transmission</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a52" doxytag="mscan_api.h::mscan_queue_status"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_queue_status </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>entriesP</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="mscan__api_8h.html#a65">MSCAN_DIR</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>directionP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number of entries in an object's receive/transmit FIFO. 
<p>
For receive message objects reports the number of received frames in the FIFO.<p>
For transmit message objects reports the number of <em>free</em> entries (frames) in the FIFO.<p>
For the special error object (nr=0) reports the number of error entries in the error FIFO.<p>
This function reports also the direction for which the object has been configured.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object </td></tr>
    <tr><td valign=top><em>entriesP</em>&nbsp;</td><td>pointer to variable where number of entries will be stored </td></tr>
    <tr><td valign=top><em>directionP</em>&nbsp;</td><td>pointer to variable where direction will be stored</td></tr>
  </table>
</dl>
Both <em>entriesP</em> and <em>directionP</em> can be NULL; in this case the parameter is ignored<p>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a47" doxytag="mscan_api.h::mscan_read_error"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_read_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>errCodeP</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>nrP</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read error entry from driver's global error FIFO. 
<p>
For each error detected by the CAN controller one entry is inserted into the CAN's global error FIFO.<p>
This function is used to retrieve these error entries. This function blocks until there is at least one entry in the error FIFO. You can check for error entries using <a class="el" href="mscan__api_8h.html#a52">mscan_queue_status()</a>.<p>
Each entry contains:<ul>
<li>errcode (placed into <em>*errCodeP</em>): See <a class="el" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a> for codes.</li><li>nr (placed into <em>*nrP</em>): contains the related message object number. For global errors, <em>nr</em> is always 0, for <code>MSCAN_QOVERRUN</code>, <em>nr</em> contains the related message object number (1....).</li></ul>
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>FIFO overrun errors (<a class="el" href="mscan__api_8h.html#a64a26">MSCAN_QOVERRUN</a>) are generated only once until the user calls <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg()</a> or mscan_read_nmsg.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>errCodeP</em>&nbsp;</td><td>Pointer to variable where error code will be stored. (see <a class="el" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a>) </td></tr>
    <tr><td valign=top><em>nrP</em>&nbsp;</td><td>Pointer to variable where object number will be stored.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a52">mscan_queue_status</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a43" doxytag="mscan_api.h::mscan_read_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_read_msg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read single frame from CAN object's receive FIFO. 
<p>
Reads the next frame from the object's receive FIFO and copies the frame identifier, length and data portion to the user's buffer pointed to by <em>msg</em>.<p>
The <em>timeout</em> parameter specifies how to wait for frames:<ul>
<li>If <em>timeout</em> is -1 and no frame is present in the FIFO, the function returns -1 and errno is set to MSCAN_ERR_NOMESSAGE.</li><li>If <em>timeout</em> is &gt;=0 and no frame is present in the FIFO, the function waits until a frame arrives or a timeout occurs.</li><li>A value of 0 causes this function to wait forever.</li></ul>
<p>
Depending on the operating system, this wait may be aborted by a deadly signal.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) </td></tr>
    <tr><td valign=top><em>timeout</em>&nbsp;</td><td>flags if this call waits until frame available (-1=don't wait, 0=wait forever, &gt;0=tout in ms) </td></tr>
    <tr><td valign=top><em>msg</em>&nbsp;</td><td>user buffer where received frame will be stored.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_NOMESSAGE</code>: no frame in receive buffer</li><li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for transmit</li><li><code>ERR_OSS_TIMEOUT</code>: timeout occurred</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="index.html#Recv">Receiving Frames</a>, <a class="el" href="mscan__api_8h.html#a44">mscan_read_nmsg</a>, <a class="el" href="mscan__api_8h.html#a48">mscan_set_rcvsig</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a44" doxytag="mscan_api.h::mscan_read_nmsg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_read_nmsg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nFrames</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read multiple frames from CAN object's receive FIFO. 
<p>
Reads the next <em>nFrames</em> frames from the object's receive FIFO and copies the frames to the user's buffer pointed to by <em>msg</em>.<p>
This is essentially the same as <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg()</a>, but shows better performance when transferring large amounts of frames between the driver and application, since less context switches are required.<p>
However, if user intends to read only a single frame, <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg()</a> is faster.<p>
Unlike <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg()</a>, this function is always non blocking. If not enough frames in fifo, it copies the number of entries currently present in the fifo.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) </td></tr>
    <tr><td valign=top><em>nFrames</em>&nbsp;</td><td>maximum number of frames to read </td></tr>
    <tr><td valign=top><em>msg</em>&nbsp;</td><td>user buffer where received frames will be stored.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of successfully copied CAN frames, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for transmit</li></ul>
</dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>modifies current MDIS channel number </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="index.html#Recv">Receiving Frames</a>, <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg</a>, <a class="el" href="mscan__api_8h.html#a48">mscan_set_rcvsig</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a56" doxytag="mscan_api.h::mscan_rtr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_rtr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a remote frame request. 
<p>
This is a convienience function for mscan_write_msg.<p>
It is the same as: <div class="fragment"><pre>   <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> frm;

   frm.<a class="code" href="structMSCAN__FRAME.html#o0">id</a> = id;
   frm.<a class="code" href="structMSCAN__FRAME.html#o1">flags</a> = <a class="code" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a>;
   frm.<a class="code" href="structMSCAN__FRAME.html#o2">dataLen</a> = 0;

   <a class="code" href="mscan__api_8c.html#a11">mscan_write_msg</a>( path, nr, 1000, &amp;frm );
</pre></div><p>
Requests a remote frame to be sent on the specified object. Once the frame has been received it is put into the object's receive FIFO and can be read using <a class="el" href="mscan__api_8h.html#a43">mscan_read_msg()</a>.<p>
The message object must be configured for transmit mode. The remote request contains no data byte and the data length is set to zero.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) </td></tr>
    <tr><td valign=top><em>id</em>&nbsp;</td><td>ID that is put into the RTR frame (standard ID always!)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error.</dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Using this function, the RTR frame has always a data length code of 0. This may cause problems in some implementations. Use <a class="el" href="mscan__api_8h.html#a45">mscan_write_msg()</a> instead</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a45">mscan_write_msg()</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a41" doxytag="mscan_api.h::mscan_set_bitrate"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_bitrate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>bitrate</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>spl</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Setup bustiming according to CIA DS 102 V2.0. 
<p>
This function sets up the bustiming (bitrate, and timing segments) according to CIA DS 102 V2.0, based on the specified <em>bitrate</em> code.<p>
Bus activity must be disabled when calling this function<p>
This function computes the parameters and then calls <a class="el" href="mscan__api_8h.html#a42">mscan_set_bustiming()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>bitrate</em>&nbsp;</td><td>bitrate code (see <a class="el" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>) </td></tr>
    <tr><td valign=top><em>spl</em>&nbsp;</td><td>sample mode<ul>
<li>0=fast, take one sample per bit</li><li>1=slow, take three samples per bit</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADSPEED</code>: bitrate not supported</li><li><code>MSCAN_ERR_ONLINE</code>: controller was not disabled</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a42">mscan_set_bustiming</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a42" doxytag="mscan_api.h::mscan_set_bustiming"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_bustiming </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8&nbsp;</td>
          <td class="mdname" nowrap> <em>brp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8&nbsp;</td>
          <td class="mdname" nowrap> <em>sjw</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8&nbsp;</td>
          <td class="mdname" nowrap> <em>tseg1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8&nbsp;</td>
          <td class="mdname" nowrap> <em>tseg2</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int8&nbsp;</td>
          <td class="mdname" nowrap> <em>spl</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Setup bustiming directly. 
<p>
This function allows to setup the bus timing parameters directly, in case the predefined CIA DS 102 2.0 parameters provided by <a class="el" href="mscan__api_8h.html#a41">mscan_set_bitrate()</a> are not sufficient.<p>
Bus activity must be disabled when calling this function<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>brp</em>&nbsp;</td><td>baud rate prescaler (1..64) </td></tr>
    <tr><td valign=top><em>sjw</em>&nbsp;</td><td>Syncronisation jump width (1..4) </td></tr>
    <tr><td valign=top><em>tseg1</em>&nbsp;</td><td>timing segment 1 length (1..16) </td></tr>
    <tr><td valign=top><em>tseg2</em>&nbsp;</td><td>timing segment 2 length (1..8) </td></tr>
    <tr><td valign=top><em>spl</em>&nbsp;</td><td>sample mode<ul>
<li>0=fast, take one sample per bit</li><li>1=slow, take three samples per bit</li></ul>
</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADTMDETAILS</code>: wrong parameter</li><li><code>MSCAN_ERR_ONLINE</code>: controller was not disabled</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a41">mscan_set_bitrate</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a39" doxytag="mscan_api.h::mscan_set_filter"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_filter </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>filter1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>filter2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set global acceptance filter. 
<p>
See <a class="el" href="index.html#ConfFilt">Configure Filters</a> for more information.<p>
<dl compact><dt><b>Remarks:</b></dt><dd>Bus activity is temporarily disabled during this call.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>filter1</em>&nbsp;</td><td>structure that specifies the filter #1 </td></tr>
    <tr><td valign=top><em>filter2</em>&nbsp;</td><td>structure that specifies the filter #2</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADPARAMETER</code>: if filter specification invalid </li></ul>
</dd></dl>
    </td>
  </tr>
</table>
<a name="a57" doxytag="mscan_api.h::mscan_set_loopback"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_loopback </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>enable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Setup loopback mode. 
<p>
For testing purpose, the CAN controller can be set into loopback mode In this mode, all frames transmitted by the controller are looped back to the receiver<p>
Bus activity must be disabled when calling this function<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>enable</em>&nbsp;</td><td>0=disable loopback 1=enable loopback</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a name="a48" doxytag="mscan_api.h::mscan_set_rcvsig"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_rcvsig </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>signal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Install signal for frame receiption. 
<p>
Installs a signal for the specified message object number. This signal is sent to the calling process whenever a new frame is written into the object's receive FIFO.<p>
This function is also used to install a signal for the special error object (nr=0).<p>
It is possible to install different signals for different message objects. For each message object, this function must be called once.<p>
Only one process can install a signal for a specific message object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object </td></tr>
    <tr><td valign=top><em>signal</em>&nbsp;</td><td>signal code to be installed</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for transmit</li><li><code>MSCAN_ERR_SIGBUSY</code>: signal already installed</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a50">mscan_clr_rcvsig</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a49" doxytag="mscan_api.h::mscan_set_xmtsig"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_set_xmtsig </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>signal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Install signal for frame transmission. 
<p>
Installs a signal for the specified message object number. This signal is sent to the calling process whenever a CAN frame has been passed to the CAN controller for transmission. This does not mean that the frame is already transmitted!<p>
It is possible to install different signals for different message objects. For each message object, this function must be called once.<p>
Only one process can install a signal for a specific message object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....)or 0 for error object </td></tr>
    <tr><td valign=top><em>signal</em>&nbsp;</td><td>signal code to be installed</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for receive</li><li><code>MSCAN_ERR_SIGBUSY</code>: signal already installed</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="mscan__api_8h.html#a51">mscan_clr_xmtsig</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a38" doxytag="mscan_api.h::mscan_term"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_term </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>path</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close path to CAN device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0=success &lt;0=error In case of error, <em>errno</em> contains an<ul>
<li>MSCAN_ERR_RESETACTIVE controller in reset state???</li><li>XXX</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd>mscan_open </dd></dl>
    </td>
  </tr>
</table>
<a name="a45" doxytag="mscan_api.h::mscan_write_msg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_write_msg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Put single frame into CAN object's transmit FIFO. 
<p>
Puts the specified <em>msg</em> into the object's FIFO. This frame will be scheduled for transmit once it is at the head of the transmit FIFO.<p>
The <em>timeout</em> parameter specifies how to wait for free FIFO space:<ul>
<li>If <em>timeout</em> is -1 and no space left in the FIFO, the function returns -1 and errno is set to MSCAN_ERR_QFULL.</li><li>If <em>timeout</em> is &gt;=0 and no space left in the FIFO, the function waits until space is again available or a timeout occurs.</li><li>A value of 0 causes this function to wait forever.</li></ul>
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>To send RTR frames, set the <a class="el" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a> bit in msg.flags. Set msg.dataLen to the value of the DLC field of the RTR frame. However, even if a data length != 0 is specified, no data bytes are included in the frame.</dd></dl>
Depending on the operating system, this wait may be aborted by a deadly signal.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) </td></tr>
    <tr><td valign=top><em>timeout</em>&nbsp;</td><td>flags if this call waits until FIFO space available (-1=don't wait, 0=wait forever, &gt;0=tout in ms) </td></tr>
    <tr><td valign=top><em>msg</em>&nbsp;</td><td>CAN message id and data to send</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_QFULL</code>: no space in FIFO (if wait=0)</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for receive</li><li><code>ERR_OSS_TIMEOUT</code>: timeout occurred</li><li><code>ERR_OSS_SIG_OCCURED</code> a deadly signal occurred while waiting</li><li><code>MSCAN_ERR_NOTINIT</code> CAN not online</li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="index.html#Transm">Transmitting Frames</a>, <a class="el" href="mscan__api_8h.html#a46">mscan_write_nmsg</a>, <a class="el" href="mscan__api_8h.html#a49">mscan_set_xmtsig</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a46" doxytag="mscan_api.h::mscan_write_nmsg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int32 __MAPILIB mscan_write_nmsg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MDIS_PATH&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>u_int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int32&nbsp;</td>
          <td class="mdname" nowrap> <em>nFrames</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>msg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Put multiple frames into CAN object's transmit FIFO. 
<p>
Puts the specified CAN frames pointed to by <em>msg</em> into the object's FIFO.<p>
This is essentially the same as <a class="el" href="mscan__api_8h.html#a45">mscan_write_msg()</a>, but shows better performance when transferring large amounts of frames between the driver and application, since less context switches are required.<p>
However, if user intends to write only a single frame, <a class="el" href="mscan__api_8h.html#a45">mscan_write_msg()</a> is faster.<p>
Unlike <a class="el" href="mscan__api_8h.html#a45">mscan_write_msg()</a>, this function is always non blocking. If not enough space left in FIFO it places only those entries into the fifo that fit into the fifo.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>MDIS path number for device </td></tr>
    <tr><td valign=top><em>nr</em>&nbsp;</td><td>message object number (1....) </td></tr>
    <tr><td valign=top><em>nFrames</em>&nbsp;</td><td>maximum number of frames to send </td></tr>
    <tr><td valign=top><em>msg</em>&nbsp;</td><td>CAN message id and data to send</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>number of CAN frames put into FIFO, or -1 on error. In case of error, <em>errno</em> set to:<ul>
<li><code>MSCAN_ERR_BADMSGNUM</code>: illegal message object number</li><li><code>MSCAN_ERR_BADDIR</code>: object configured for receive</li></ul>
</dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>modifies current MDIS channel number </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="index.html#Transm">Transmitting Frames</a>, <a class="el" href="mscan__api_8h.html#a45">mscan_write_msg</a>, <a class="el" href="mscan__api_8h.html#a49">mscan_set_xmtsig</a> </dd></dl>
    </td>
  </tr>
</table>

	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for MSCAN API using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

