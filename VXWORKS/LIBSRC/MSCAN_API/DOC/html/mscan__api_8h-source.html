<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - MSCAN API - mscan_api.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;"></a>
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">MSCAN API &nbsp; for MSCAN fileset 2.19</h1>
	<h3>mscan_api.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mscan_api.h</h1><a href="mscan__api_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************/</span>
00013 <span class="comment">/*-------------------------------[ History ]---------------------------------</span>
00014 <span class="comment"> *</span>
00015 <span class="comment"> * $Log: mscan_api.h,v $</span>
00016 <span class="comment"> * Revision 2.8  2010/02/25 18:04:54  amorbach</span>
00017 <span class="comment"> * R: driver ported to MDIS5, new MDIS_API and men_typs</span>
00018 <span class="comment"> * M: Change return value of mscan_init() to MDIS_PATH</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> * Revision 2.7  2008/09/26 12:13:50  ufranke</span>
00021 <span class="comment"> * R: diab compiler warnings</span>
00022 <span class="comment"> * M: cosmetics</span>
00023 <span class="comment"> *</span>
00024 <span class="comment"> * Revision 2.6  2005/03/24 10:18:32  kp</span>
00025 <span class="comment"> * Added missing baudrate code MSCAN_BR_100K. Added low baudrates 20K/10K.</span>
00026 <span class="comment"> * Existing applications using MSCAN_BR_ enum values higher then MSCAN_BR_125K</span>
00027 <span class="comment"> * must be recompiled!</span>
00028 <span class="comment"> *</span>
00029 <span class="comment"> * Revision 2.5  2003/07/11 09:25:49  kp</span>
00030 <span class="comment"> * added mscan_dump_internals</span>
00031 <span class="comment"> *</span>
00032 <span class="comment"> * Revision 2.4  2003/04/02 08:37:15  kp</span>
00033 <span class="comment"> * added __MAPILIB to all lib functions</span>
00034 <span class="comment"> *</span>
00035 <span class="comment"> * Revision 2.3  2003/02/03 10:42:59  kp</span>
00036 <span class="comment"> * First alpha release to SH Winding</span>
00037 <span class="comment"> *</span>
00038 <span class="comment"> * Revision 2.2  2003/01/29 14:03:20  kp</span>
00039 <span class="comment"> * many changes for initial implementation</span>
00040 <span class="comment"> *</span>
00041 <span class="comment"> * Revision 2.1  2002/11/19 16:59:54  kp</span>
00042 <span class="comment"> * Checkin to produce doxygen specification from source</span>
00043 <span class="comment"> *</span>
00044 <span class="comment"> *---------------------------------------------------------------------------</span>
00045 <span class="comment"> * (c) Copyright 2002 by MEN mikro elektronik GmbH, Nuernberg, Germany </span>
00046 <span class="comment"> ****************************************************************************/</span>
00047 
00048 <span class="preprocessor">#ifndef _MSCAN_API_H</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define _MSCAN_API_H</span>
00050 <span class="preprocessor"></span>
00051 <span class="preprocessor">#ifdef __cplusplus</span>
00052 <span class="preprocessor"></span>    <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00053 <span class="preprocessor">#endif</span>
00054 <span class="preprocessor"></span>
00055 <span class="comment">/*--------------------------------------+</span>
00056 <span class="comment">|   TYPEDEFS                            |</span>
00057 <span class="comment">+--------------------------------------*/</span>
00058 
<a name="l00060"></a><a class="code" href="mscan__api_8h.html#a63">00060</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00061     <a class="code" href="mscan__api_8h.html#a63a13">MSCAN_BR_1MB</a>=0,             
00062     <a class="code" href="mscan__api_8h.html#a63a14">MSCAN_BR_800K</a>,              
00063     <a class="code" href="mscan__api_8h.html#a63a15">MSCAN_BR_500K</a>,              
00064     <a class="code" href="mscan__api_8h.html#a63a16">MSCAN_BR_250K</a>,              
00065     <a class="code" href="mscan__api_8h.html#a63a17">MSCAN_BR_125K</a>,              
00066     <a class="code" href="mscan__api_8h.html#a63a18">MSCAN_BR_100K</a>,              
00067     <a class="code" href="mscan__api_8h.html#a63a19">MSCAN_BR_50K</a>,               
00068     <a class="code" href="mscan__api_8h.html#a63a20">MSCAN_BR_20K</a>,               
00069     <a class="code" href="mscan__api_8h.html#a63a21">MSCAN_BR_10K</a>                
00070 } <a class="code" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>;
00071 
<a name="l00073"></a><a class="code" href="mscan__api_8h.html#a64">00073</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00074     <a class="code" href="mscan__api_8h.html#a64a22">MSCAN_BUSOFF_SET</a>=1,         
00075     <a class="code" href="mscan__api_8h.html#a64a23">MSCAN_BUSOFF_CLR</a>,           
00076     <a class="code" href="mscan__api_8h.html#a64a24">MSCAN_WARN_SET</a>,             
00077     <a class="code" href="mscan__api_8h.html#a64a25">MSCAN_WARN_CLR</a>,             
00078     <a class="code" href="mscan__api_8h.html#a64a26">MSCAN_QOVERRUN</a>,             
00079     <a class="code" href="mscan__api_8h.html#a64a27">MSCAN_DATA_OVERRUN</a>          
00080 } <a class="code" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a>;
00081 
<a name="l00083"></a><a class="code" href="mscan__api_8h.html#a65">00083</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00084     <a class="code" href="mscan__api_8h.html#a65a28">MSCAN_DIR_DIS</a>,              
00085     <a class="code" href="mscan__api_8h.html#a65a29">MSCAN_DIR_RCV</a>,              
00086     <a class="code" href="mscan__api_8h.html#a65a30">MSCAN_DIR_XMT</a>               
00087 } <a class="code" href="mscan__api_8h.html#a65">MSCAN_DIR</a>;
00088 
<a name="l00090"></a><a class="code" href="mscan__api_8h.html#a66">00090</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00091     <a class="code" href="mscan__api_8h.html#a66a31">MSCAN_EXTENDED</a>=0x1,         
00092     <a class="code" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a>=0x2,              
00093     <a class="code" href="mscan__api_8h.html#a66a33">MSCAN_USE_ACCFIELD</a>=0x4      
00094 } <a class="code" href="mscan__api_8h.html#a66">MSCAN_FLAGS</a>;
00095 
<a name="l00097"></a><a class="code" href="structMSCAN__FRAME.html">00097</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00098"></a><a class="code" href="structMSCAN__FRAME.html#o0">00098</a>     u_int32 id;                 
<a name="l00099"></a><a class="code" href="structMSCAN__FRAME.html#o1">00099</a>     u_int8  flags;              
<a name="l00100"></a><a class="code" href="structMSCAN__FRAME.html#o2">00100</a>     u_int8  dataLen;            
<a name="l00101"></a><a class="code" href="structMSCAN__FRAME.html#o3">00101</a>     u_int8  data[8];            
00102 } <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a>;
00103 
<a name="l00105"></a><a class="code" href="mscan__api_8h.html#a67">00105</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00107     <a class="code" href="mscan__api_8h.html#a67a34">MSCAN_NS_ERROR_ACTIVE</a>,      
00109     <a class="code" href="mscan__api_8h.html#a67a35">MSCAN_NS_ERROR_PASSIVE</a>, 
00111     <a class="code" href="mscan__api_8h.html#a67a36">MSCAN_NS_BUS_OFF</a>
00112 } <a class="code" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a>;
00113 
<a name="l00115"></a><a class="code" href="mscan__api_8h.html#a0">00115</a> <span class="preprocessor">#define MSCAN_ACCFIELD_GET(field,id)  (field[(id)&gt;&gt;3] &amp; (0x80&gt;&gt;((id)&amp;7)))</span>
00116 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="mscan__api_8h.html#a1">00118</a> <span class="preprocessor">#define MSCAN_ACCFIELD_SET(field,id)  (field[(id)&gt;&gt;3] |= (0x80&gt;&gt;((id)&amp;7)))</span>
00119 <span class="preprocessor"></span>
<a name="l00121"></a><a class="code" href="mscan__api_8h.html#a2">00121</a> <span class="preprocessor">#define MSCAN_ACCFIELD_CLR(field,id)  (field[(id)&gt;&gt;3] &amp;= ~(0x80&gt;&gt;((id)&amp;7)))</span>
00122 <span class="preprocessor"></span>
<a name="l00124"></a><a class="code" href="structMSCAN__FILTER.html">00124</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
00125 
<a name="l00132"></a><a class="code" href="structMSCAN__FILTER.html#o0">00132</a>     u_int32 code;                   
00133 
<a name="l00138"></a><a class="code" href="structMSCAN__FILTER.html#o1">00138</a>     u_int32 mask;               
00139 
<a name="l00149"></a><a class="code" href="structMSCAN__FILTER.html#o2">00149</a>     u_int32 cflags;         
00150 
<a name="l00159"></a><a class="code" href="structMSCAN__FILTER.html#o3">00159</a>     u_int32 mflags; 
00160 
<a name="l00180"></a><a class="code" href="structMSCAN__FILTER.html#o4">00180</a>     u_int8 accField[256];
00181 
00182 } <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a>;
00183 
00184 
00185 <span class="comment">/*--------------------------------------+</span>
00186 <span class="comment">|   DEFINES                             |</span>
00187 <span class="comment">+--------------------------------------*/</span>
00188 <span class="comment">/*----- API Error codes -----------------------------------------------------*/</span>
<a name="l00189"></a><a class="code" href="mscan__api_8h.html#a3">00189</a> <span class="preprocessor">#define MSCAN_ERR_BADSPEED      (ERR_DEV+1) </span>
<a name="l00190"></a><a class="code" href="mscan__api_8h.html#a4">00190</a> <span class="preprocessor">#define MSCAN_ERR_NOMESSAGE     (ERR_DEV+8) </span>
<a name="l00191"></a><a class="code" href="mscan__api_8h.html#a5">00191</a> <span class="preprocessor">#define MSCAN_ERR_BADTMDETAILS  (ERR_DEV+12)</span>
<a name="l00192"></a><a class="code" href="mscan__api_8h.html#a6">00192</a> <span class="preprocessor">#define MSCAN_ERR_BADMSGNUM (ERR_LL_ILL_CHAN)</span>
<a name="l00193"></a><a class="code" href="mscan__api_8h.html#a7">00193</a> <span class="preprocessor">#define MSCAN_ERR_BADDIR        (ERR_DEV+14)</span>
<a name="l00194"></a><a class="code" href="mscan__api_8h.html#a8">00194</a> <span class="preprocessor">#define MSCAN_ERR_QFULL         (ERR_DEV+15)</span>
<a name="l00195"></a><a class="code" href="mscan__api_8h.html#a9">00195</a> <span class="preprocessor">#define MSCAN_ERR_SIGBUSY       (ERR_DEV+16)</span>
<a name="l00196"></a><a class="code" href="mscan__api_8h.html#a10">00196</a> <span class="preprocessor">#define MSCAN_ERR_BADPARAMETER  (ERR_LL_ILL_PARAM) </span>
<a name="l00197"></a><a class="code" href="mscan__api_8h.html#a11">00197</a> <span class="preprocessor">#define MSCAN_ERR_NOTINIT       (ERR_DEV+17) </span>
<a name="l00198"></a><a class="code" href="mscan__api_8h.html#a12">00198</a> <span class="preprocessor">#define MSCAN_ERR_ONLINE        (ERR_DEV+18) </span>
00200 <span class="preprocessor"></span><span class="comment">/*--------------------------------------+</span>
00201 <span class="comment">|   PROTOTYPES                          |</span>
00202 <span class="comment">+--------------------------------------*/</span>
00203 MDIS_PATH __MAPILIB <a class="code" href="mscan__api_8c.html#a3">mscan_init</a>(<span class="keywordtype">char</span> *device);
00204 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a4">mscan_term</a>(MDIS_PATH path);
00205 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a5">mscan_set_filter</a>(
00206     MDIS_PATH path,
00207     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter1,
00208     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter2);
00209 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a6">mscan_config_msg</a>(
00210     MDIS_PATH path,
00211     u_int32 nr, 
00212     MSCAN_DIR dir,
00213     u_int32 qEntries,
00214     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter );
00215 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a7">mscan_set_bitrate</a>(
00216     MDIS_PATH path,
00217     MSCAN_BITRATE bitrate,
00218     u_int32 spl );
00219 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a8">mscan_set_bustiming</a>(
00220     MDIS_PATH path,
00221     u_int8 brp, 
00222     u_int8 sjw,
00223     u_int8 tseg1,
00224     u_int8 tseg2,
00225     u_int8 spl );
00226 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a9">mscan_read_msg</a>(
00227     MDIS_PATH path,
00228     u_int32 nr,
00229     int32 timeout,
00230     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00231 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a10">mscan_read_nmsg</a>(
00232     MDIS_PATH path,
00233     u_int32 nr,
00234     int32 nFrames,
00235     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00236 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a11">mscan_write_msg</a>(
00237     MDIS_PATH path,
00238     u_int32 nr,
00239     int32 timeout,
00240     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00241 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a12">mscan_write_nmsg</a>(
00242     MDIS_PATH path,
00243     u_int32 nr,
00244     int32 nFrames,
00245     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00246 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a13">mscan_read_error</a>(
00247     MDIS_PATH path,
00248     u_int32 *errCodeP,
00249     u_int32 *nrP);
00250 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a14">mscan_set_rcvsig</a>(
00251     MDIS_PATH path,
00252     u_int32 nr,
00253     int32 signal);
00254 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a15">mscan_set_xmtsig</a>(
00255     MDIS_PATH path,
00256     u_int32 nr,
00257     int32 signal);
00258 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a16">mscan_clr_rcvsig</a>(
00259     MDIS_PATH path,
00260     u_int32 nr);
00261 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a17">mscan_clr_xmtsig</a>(
00262     MDIS_PATH path,
00263     u_int32 nr);
00264 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a18">mscan_queue_status</a>(
00265     MDIS_PATH path,
00266     u_int32 nr,
00267     u_int32 *entriesP,
00268     MSCAN_DIR *directionP);
00269 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a19">mscan_queue_clear</a>(
00270     MDIS_PATH path,
00271     u_int32 nr,
00272     <span class="keywordtype">int</span> txabort);
00273 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a20">mscan_clear_busoff</a>(
00274     MDIS_PATH path);
00275 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a21">mscan_enable</a>(
00276     MDIS_PATH path,
00277     u_int32 enable );
00278 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a22">mscan_rtr</a>(
00279     MDIS_PATH path,
00280     u_int32 nr,
00281     u_int32 id);
00282 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a23">mscan_set_loopback</a>(
00283     MDIS_PATH path,
00284     <span class="keywordtype">int</span> enable);
00285 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a24">mscan_node_status</a>(
00286     MDIS_PATH path,
00287     MSCAN_NODE_STATUS *statusP );
00288 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a25">mscan_error_counters</a>(
00289     MDIS_PATH path,
00290     u_int8 *txErrCntP,
00291     u_int8 *rxErrCntP);
00292 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a26">mscan_dump_internals</a>(
00293     MDIS_PATH path,
00294     <span class="keywordtype">char</span> *buffer,
00295     <span class="keywordtype">int</span> maxLen );
00296 
00297 <span class="comment">/* mscan_strings.c */</span>
00298 <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a1">mscan_errmsg</a>(int32 error);
00299 <span class="keyword">const</span> <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a2">mscan_errobj_msg</a>( u_int32 errCode  );
00300 
00301 <span class="preprocessor">#ifdef __cplusplus</span>
00302 <span class="preprocessor"></span>    }
00303 <span class="preprocessor">#endif</span>
00304 <span class="preprocessor"></span>
00305 <span class="preprocessor">#endif  </span><span class="comment">/* _MSCAN_API_H */</span>
00306 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for MSCAN API using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2012 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

