# MDIS project makefile
# Generated by mdiswiz
# 2.04.00-vxworks-4.4 Build Sep 16 2016 17:04:04

# Check VxWorks Develpoment Environment Version

export MEN_VXWORKS_ENV_VER := VXWORKS_7_0

# The directory where you have installed the MDIS system
# package for VxWorks, e.g. /MEN/VXWORKS
# note: FORWARD SLASHES '/' needed

MEN_VX_DIR = $(PRJ_FULL_PATH)/mdis/VXWORKS
VXWORKS_VSB_DIR = $(VSB_DIR)

export VXWORKS_VSB_DIR

CC = ccppc
LD = ldppc
AR = arppc
NM = nmppc

export CC
export LD
export AR
export NM

# Defines compiler toolchain to build the MDIS modules. This
# should match the TOOL setting used in your VxWorks BSP.

TOOL_FAMILY := gnu
TOOL := gnu

# Additional CFLAGS e.g. for multicore CPUs: -D_WRS_CONFIG_SMP
# -D_SMP_COMPATIBLE_ONLY
# or -D_UP_COMPATIBLE_ONLY for singlecore processors.

ADDED_CFLAGS =

# Defines the system type:
# uniprocessor (UP) or a symmetrical multi-processor (SMP)
# system

ADDED_CFLAGS += -DMAC_MEM_MAPPED

# Defines whether to build and install the release (no) or
# debug (yes) versions of the modules. The debug version of the
# modules issue debug messages using DBG_Write for trouble
# shooting. The message display function is DBG_Show().
ifeq ($(ALL_DBGS),)
ALL_DBGS = no
endif

# Compiler Switches for Debug Informations i.e. -g or -gdwarf
# or -E for preprocessor -S for assembler output

DEBUG_FLAGS = -Wall

# CPU has PCIbus yes or no

PCI_SUPPORT = yes

# Makefile debug output disable (@) or empty to enable

export MDBG = @

# Please choose the CPU type appropriate to your CPU Board.
# This will determine the right compiler switch.
# Note: If you are using an older VxWorks version, the
# determined compiler switch may not be supported. In this case
# you have to select a lower CPU type.

ALL_CPUS := PPC603
CPU := PPC603
include $(MEN_VX_DIR)/BUILD/MDIS/TPL/corecomp.mak

ALL_LL_DRIVERS = \
	Z017/DRIVER/COM/driver_sw.mak \
	Z061_PWM/DRIVER/COM/driver_sw.mak \
	Z075_SPEED/DRIVER/COM/driver_sw.mak \
	Z072_OWB/DRIVER/COM/driver_sw.mak \
	QSPIM/DRIVER/COM/driver_z76_em1a_sw.mak \
	SMB2/DRIVER/COM/driver.mak

ALL_BB_DRIVERS = \
	CHAMELEON/DRIVER/COM/driver.mak \
	ISA/DRIVER/COM/driver.mak \
	SMBPCI/DRIVER/COM/driver_nat.mak

ALL_USR_LIBS = SMB2_API/COM/library.mak

ALL_CORE_LIBS = no

ALL_LL_TOOLS = \
	Z017/EXAMPLE/Z17_SIMP/COM/program.mak \
	Z017/TOOLS/Z17_IO/COM/program.mak \
	Z017/TOOLS/Z127_IO/COM/program.mak \
	Z061_PWM/EXAMPLE/Z61_SIMP/COM/program.mak \
	Z075_SPEED/EXAMPLE/Z75_SIMP/COM/program.mak \
	Z072_OWB/EXAMPLE/Z72_SIMP/COM/program.mak \
	QSPIM/EXAMPLE/QSPIM_A4N/COM/program.mak \
	QSPIM/EXAMPLE/QSPIM_SIG/COM/program.mak \
	SMB2/EXAMPLE/SMB2_SIMP/COM/program.mak \
	SMB2/TOOLS/SMB2_CTRL/COM/program.mak \
	SMB2/TOOLS/SMB2_BOARDIDENT/COM/program.mak

ALL_COM_TOOLS = \
	MDIS_API/M_ERRSTR/COM/program.mak \
	MDIS_API/M_GETBLOCK/COM/program.mak \
	MDIS_API/M_GETSTAT/COM/program.mak \
	MDIS_API/M_GETSTAT_BLK/COM/program.mak \
	MDIS_API/M_MOD_ID/COM/program.mak \
	MDIS_API/M_OPEN/COM/program.mak \
	MDIS_API/M_READ/COM/program.mak \
	MDIS_API/M_REV_ID/COM/program.mak \
	MDIS_API/M_SETBLOCK/COM/program.mak \
	MDIS_API/M_SETSTAT/COM/program.mak \
	MDIS_API/M_SETSTAT_BLK/COM/program.mak \
	MDIS_API/M_WRITE/COM/program.mak \
	FPGA_LOAD/COM/program.mak

ALL_NATIVE_DRIVERS =

ALL_NATIVE_LIBS =

ALL_NATIVE_TOOLS =

ALL_DESC = system

include $(MEN_VX_DIR)/BUILD/MDIS/TPL/rules.mak

